# generate ssh-keys
# ssh-keygen -t rsa -b 2048 -P '' -f /root/.ssh/id_rsa
---

- name: the ssh-keys dir is exists
  shell: ls /app/data/ssh-keys/
  ignore_errors: true
  register: result

- name: info result
  debug: "msg={{result}}"

- name: create dictory
  file:
    path: /app/data/ssh-keys/
    state: directory
  when: result.rc == 0 | false

- name: the keys is exists
  shell: ls /app/data/ssh-keys/id_rsa
  ignore_errors: true
  register: resultFile

- name: info resultFile
  command: "echo {{resultFile}}"

- name: generate ssh-keys | generate key pair
  command: ssh-keygen -t rsa -b 2048 -C '' -P '' -f /app/data/ssh-keys/id_rsa -q
  become: false
